<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For Janeth Bamwenda ‚ù§Ô∏è</title>

  <style>
    :root{
      --bg1:#ffdde1;
      --bg2:#ee9ca7;
      --card:#ffffffcc;
      --text:#1f1f1f;
      --accent:#ff2e63;
      --accent2:#6a5acd;
      --shadow: 0 18px 45px rgba(0,0,0,.15);
      --radius: 22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 900px at 15% 10%, #fff 0%, transparent 50%),
                  radial-gradient(900px 700px at 85% 80%, #fff 0%, transparent 40%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
      overflow-x:hidden;
    }

    /* floating hearts */
    .hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }
    .heart{
      position:absolute;
      width:14px;height:14px;
      background:var(--accent);
      transform:rotate(45deg);
      opacity:.18;
      animation: floatUp linear infinite;
      filter: blur(.2px);
    }
    .heart:before,.heart:after{
      content:"";
      position:absolute;
      width:14px;height:14px;
      background:var(--accent);
      border-radius:50%;
    }
    .heart:before{left:-7px; top:0}
    .heart:after{left:0; top:-7px}
    @keyframes floatUp{
      from{ transform:translateY(110vh) rotate(45deg) scale(.9); }
      to  { transform:translateY(-20vh) rotate(45deg) scale(1.2); }
    }

    .wrap{
      width:min(980px, 100%);
      position:relative;
      z-index:1;
    }
    .card{
      background:var(--card);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      border-radius: var(--radius);
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.6);
    }

    header{
      padding:26px 22px 10px;
      text-align:center;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,.65);
      border: 1px solid rgba(255,255,255,.8);
      box-shadow: 0 8px 18px rgba(0,0,0,.08);
      font-weight:700;
    }
    .badge span{font-size:18px}
    h1{
      margin:14px 0 8px;
      font-size: clamp(26px, 4vw, 44px);
      letter-spacing: .2px;
    }
    .sub{
      margin:0 auto 14px;
      width:min(72ch, 100%);
      font-size: 15.5px;
      opacity:.9;
      line-height:1.55;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:16px;
      padding: 12px 16px 18px;
    }
    @media (max-width: 860px){
      .grid{grid-template-columns:1fr}
    }

    .panel{
      background: rgba(255,255,255,.6);
      border: 1px solid rgba(255,255,255,.7);
      border-radius: 18px;
      padding:16px;
      box-shadow: 0 10px 22px rgba(0,0,0,.06);
    }
    .panel h2{
      margin:0 0 10px;
      font-size: 18px;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin:10px 0 6px;
    }

    input, textarea{
      width:100%;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,.1);
      padding: 12px 12px;
      font-size: 14.5px;
      background: rgba(255,255,255,.9);
      outline:none;
    }
    textarea{min-height: 110px; resize: vertical;}

    .btn{
      appearance:none;
      border:0;
      cursor:pointer;
      padding: 12px 14px;
      border-radius: 14px;
      font-weight: 800;
      letter-spacing:.2px;
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .btn:active{transform: scale(.98)}
    .btn.primary{
      background: linear-gradient(135deg, var(--accent), #ff6aa2);
      color:#fff;
      box-shadow: 0 12px 26px rgba(255,46,99,.25);
    }
    .btn.ghost{
      background: rgba(255,255,255,.65);
      border: 1px solid rgba(0,0,0,.08);
      color: #202020;
    }
    .btn.secondary{
      background: linear-gradient(135deg, var(--accent2), #8a7bff);
      color:#fff;
      box-shadow: 0 12px 26px rgba(106,90,205,.2);
    }
    .btn.danger{
      background: linear-gradient(135deg, #222, #555);
      color:#fff;
      box-shadow: 0 12px 26px rgba(0,0,0,.18);
    }

    .note{
      margin-top:10px;
      font-size: 13px;
      opacity:.82;
      line-height:1.45;
    }

    .reasons{
      display:grid;
      gap:10px;
      margin-top:10px;
    }
    .reason{
      background: rgba(255,255,255,.78);
      border: 1px solid rgba(0,0,0,.07);
      border-radius: 16px;
      padding: 12px 12px;
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .dot{
      width:30px;height:30px;
      border-radius: 12px;
      display:grid;
      place-items:center;
      background: rgba(255,46,99,.12);
      font-size:16px;
      flex:0 0 auto;
    }

    /* Reveal box */
    .reveal{
      margin-top:10px;
      border-radius: 18px;
      border: 1px dashed rgba(0,0,0,.2);
      padding: 14px;
      background: rgba(255,255,255,.65);
      overflow:hidden;
      position:relative;
    }
    .secret{
      margin:0;
      font-size: 15px;
      line-height: 1.6;
      transform: translateY(8px);
      opacity: 0;
      max-height: 0;
      transition: all .45s ease;
    }
    .reveal.open .secret{
      opacity: 1;
      transform: translateY(0);
      max-height: 320px;
    }

    /* Preview letter */
    .letter{
      padding: 18px 16px 22px;
      background: rgba(255,255,255,.72);
      border-top: 1px solid rgba(0,0,0,.06);
    }
    .paper{
      background: #fff;
      border-radius: 18px;
      padding: 18px 16px;
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 12px 26px rgba(0,0,0,.07);
      position:relative;
      overflow:hidden;
    }
    .paper:before{
      content:"";
      position:absolute;
      inset:-40px -60px auto auto;
      width:200px;height:200px;
      background: radial-gradient(circle at 30% 30%, rgba(255,46,99,.18), transparent 60%);
      transform: rotate(18deg);
    }
    .paper h3{
      margin:0 0 10px;
      font-size: 18px;
    }
    .paper p{
      margin:0;
      font-size: 15px;
      line-height: 1.7;
      white-space: pre-wrap;
    }

    /* Don't-touch area */
    .dontTouch{
      margin-top:14px;
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,.07);
      background: rgba(255,255,255,.72);
      padding: 12px;
    }
    .dontTouch h3{
      margin:0 0 8px;
      font-size: 16px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .arena{
      position:relative;
      height: 160px;
      border-radius: 16px;
      border: 1px dashed rgba(0,0,0,.22);
      background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.55));
      overflow:hidden;
    }
    .arena .hint{
      position:absolute;
      inset:auto 10px 10px 10px;
      font-size:12.5px;
      opacity:.78;
      text-align:center;
    }
    .arenaBtns{
      position:absolute;
      inset:10px;
    }
    .fixedBtn{
      position:absolute;
      left:12px;
      top:12px;
    }
    .runnerBtn{
      position:absolute;
      left:55%;
      top:52%;
      transform: translate(-50%,-50%);
      will-change: transform, left, top;
    }

    /* Gallery */
    .gallerySection{
      padding: 28px 16px 26px;
      text-align:center;
      background: rgba(255,255,255,.74);
      border-top: 1px solid rgba(0,0,0,.06);
    }
    .gallerySection h2{
      margin:0 0 6px;
      font-size: 22px;
    }
    .gallerySub{
      margin:0 auto 16px;
      font-size: 14px;
      opacity:.82;
      width:min(70ch, 100%);
      line-height:1.45;
    }
    .gallery{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
      gap:12px;
    }
    .photoCard{
      position:relative;
      overflow:hidden;
      border-radius:18px;
      box-shadow: 0 12px 24px rgba(0,0,0,.14);
      border: 1px solid rgba(0,0,0,.06);
      background:#fff;
    }
    .photoBtn{
      padding:0;
      border:0;
      background:transparent;
      width:100%;
      cursor:pointer;
      display:block;
      -webkit-tap-highlight-color: transparent;
    }
    .photoCard img{
      width:100%;
      height: 220px;
      object-fit: cover;
      display:block;
      transform: scale(1.01);
      transition: transform .35s ease;
    }
    @media (hover:hover){
      .photoBtn:hover img{ transform: scale(1.08); }
    }
    .photoCap{
      position:absolute;
      left:10px;
      bottom:10px;
      padding:7px 10px;
      border-radius:999px;
      font-weight:800;
      font-size:12.5px;
      color:#fff;
      background: rgba(0,0,0,.58);
      backdrop-filter: blur(6px);
    }

    /* Lightbox */
    .lightbox{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.86);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:99999;
      padding: 18px;
    }
    .lightbox.open{ display:flex; }
    .lightboxInner{
      width:min(980px, 100%);
      position:relative;
    }
    .lightboxImg{
      width:100%;
      max-height: 82vh;
      object-fit: contain;
      border-radius: 18px;
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      background: rgba(255,255,255,.06);
    }
    .lbTop{
      position:absolute;
      top:-48px;
      left:0;
      right:0;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      color:#fff;
      font-weight:800;
      font-size:13.5px;
      opacity:.92;
      padding: 0 2px;
    }
    .lbBtns{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .lbBtn{
      border:0;
      cursor:pointer;
      padding: 10px 12px;
      border-radius: 999px;
      font-weight: 900;
      color:#fff;
      background: rgba(255,255,255,.14);
      backdrop-filter: blur(8px);
      -webkit-tap-highlight-color: transparent;
    }
    .lbBtn:active{ transform: scale(.98); }

    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.78);
      color:#fff;
      padding: 10px 12px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 13px;
      opacity:0;
      pointer-events:none;
      transition: opacity .2s ease, transform .2s ease;
      z-index:999999;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-4px);
    }

    footer{
      text-align:center;
      padding: 12px 10px 18px;
      font-size: 12.5px;
      opacity:.75;
      background: rgba(255,255,255,.72);
      border-top: 1px solid rgba(0,0,0,.06);
    }
  </style>
</head>

<body>
  <div class="hearts" aria-hidden="true" id="hearts"></div>
  <div class="toast" id="toast">‚ú®</div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightboxInner">
      <div class="lbTop">
        <div id="lbLabel">Memory ‚ù§Ô∏è</div>
        <div class="lbBtns">
          <button class="lbBtn" id="lbPrev" aria-label="Previous">‚üµ</button>
          <button class="lbBtn" id="lbNext" aria-label="Next">‚ü∂</button>
          <button class="lbBtn" id="lbClose" aria-label="Close">‚úï</button>
        </div>
      </div>
      <img class="lightboxImg" id="lbImg" alt="Memory" />
    </div>
  </div>

  <main class="wrap">
    <div class="card">
      <header>
        <div class="badge"><span>üíò</span> <div>Made with love</div></div>
        <h1 id="title">For Janeth Bamwenda ‚ù§Ô∏è</h1>
        <p class="sub" id="subtitle">
          A small page that says what my heart keeps whispering‚Ä¶ even when I‚Äôm quiet.
        </p>
      </header>

      <section class="grid">
        <!-- Left panel -->
        <div class="panel">
          <h2>‚úçÔ∏è Personalize it</h2>

          <label>
            Her name (or nickname)
            <input id="nameInput" placeholder="Janeth Bamwenda" autocomplete="off" />
          </label>

          <div class="row">
            <button class="btn primary" id="saveBtn">Save üíæ</button>
            <button class="btn ghost" id="resetBtn">Reset ‚ôªÔ∏è</button>
          </div>

          <label style="margin-top:10px; display:block;">
            Your message to her
            <textarea id="msgInput" placeholder="Write something sweet..."></textarea>
          </label>

          <div class="row">
            <button class="btn secondary" id="confettiBtn">Send Love ‚ú®</button>
            <button class="btn ghost" id="copyBtn">Copy Message üìã</button>
          </div>

          <p class="note">
            This page remembers the name/message on this device. You can edit anytime üíñ
          </p>

          <!-- Don't-touch buttons -->
          <div class="dontTouch">
            <h3>üö´ Don‚Äôt touch these buttons üòÖ</h3>
            <div class="arena" id="arena">
              <div class="arenaBtns">
                <button class="btn primary fixedBtn" id="yesBtn">Yes üòç</button>
                <button class="btn danger runnerBtn" id="noBtn">No üòÖ</button>
              </div>
              <div class="hint">Try to click ‚ÄúNo‚Äù... if you can üòÑ</div>
            </div>
          </div>
        </div>

        <!-- Right panel -->
        <div class="panel">
          <h2>ü´∂ Reasons I love you</h2>
          <div class="reasons" id="reasons">
            <div class="reason"><div class="dot">üå∑</div><div>You make ordinary moments feel special.</div></div>
            <div class="reason"><div class="dot">‚ú®</div><div>Your smile has a way of fixing my whole day.</div></div>
            <div class="reason"><div class="dot">ü§ç</div><div>You‚Äôre kind in ways you don‚Äôt even notice.</div></div>
            <div class="reason"><div class="dot">üî•</div><div>You inspire me to be better ‚Äî gently, naturally.</div></div>
            <div class="reason"><div class="dot">üåô</div><div>No matter what happens, I choose you.</div></div>
          </div>

          <div class="reveal" id="revealBox">
            <div class="row" style="margin:0 0 8px;">
              <button class="btn primary" id="revealBtn">Tap for a secret üíå</button>
              <button class="btn ghost" id="shuffleBtn">Shuffle reasons üîÄ</button>
            </div>
            <p class="secret" id="secretText">
              Janeth Bamwenda, you are the kind of love that feels gentle, strong, and meant to last.
            </p>
          </div>
        </div>
      </section>

      <section class="letter">
        <div class="paper">
          <h3 id="dearLine">Dear Janeth Bamwenda,</h3>
          <p id="letterText"></p>
        </div>
      </section>

      <!-- üì∏ Photos Section -->
      <section class="gallerySection">
        <h2>üì∏ Our Beautiful Memories</h2>
        <p class="gallerySub">Every picture holds a piece of us‚Ä¶ and I love the way our story looks ‚ù§Ô∏è</p>

        <div class="gallery" id="gallery">
          <div class="photoCard">
            <button class="photoBtn" data-index="0" aria-label="Open memory 1">
              <img src="photo1.jpg" alt="Memory 1">
              <div class="photoCap">Memory 1 ‚ù§Ô∏è</div>
            </button>
          </div>

          <div class="photoCard">
            <button class="photoBtn" data-index="1" aria-label="Open memory 2">
              <img src="photo2.jpg" alt="Memory 2">
              <div class="photoCap">Memory 2 ‚ù§Ô∏è</div>
            </button>
          </div>

          <div class="photoCard">
            <button class="photoBtn" data-index="2" aria-label="Open memory 3">
              <img src="photo3.jpg" alt="Memory 3">
              <div class="photoCap">Memory 3 ‚ù§Ô∏è</div>
            </button>
          </div>

          <div class="photoCard">
            <button class="photoBtn" data-index="3" aria-label="Open memory 4">
              <img src="photo4.jpg" alt="Memory 4">
              <div class="photoCap">Memory 4 ‚ù§Ô∏è</div>
            </button>
          </div>

          <div class="photoCard">
            <button class="photoBtn" data-index="4" aria-label="Open memory 5">
              <img src="photo5.jpg" alt="Memory 5">
              <div class="photoCap">Memory 5 ‚ù§Ô∏è</div>
            </button>
          </div>

          <div class="photoCard">
            <button class="photoBtn" data-index="5" aria-label="Open memory 6">
              <img src="photo6.jpg" alt="Memory 6">
              <div class="photoCap">Memory 6 ‚ù§Ô∏è</div>
            </button>
          </div>

          <div class="photoCard">
            <button class="photoBtn" data-index="6" aria-label="Open memory 7">
              <img src="photo7.jpg" alt="Memory 7">
              <div class="photoCap">Memory 7 ‚ù§Ô∏è</div>
            </button>
          </div>

          <div class="photoCard">
            <button class="photoBtn" data-index="7" aria-label="Open memory 8">
              <img src="photo8.jpg" alt="Memory 8">
              <div class="photoCap">Memory 8 ‚ù§Ô∏è</div>
            </button>
          </div>
        </div>
      </section>

      <footer>
        Made with ‚ù§Ô∏è ‚Äî open this anytime.
      </footer>
    </div>
  </main>

  <script>
    // --- Floating hearts ---
    const hearts = document.getElementById("hearts");
    const heartCount = 30;
    for (let i = 0; i < heartCount; i++) {
      const h = document.createElement("div");
      h.className = "heart";
      const left = Math.random() * 100;
      const dur = 6 + Math.random() * 10;
      const delay = Math.random() * 6;
      const size = 10 + Math.random() * 18;
      h.style.left = left + "vw";
      h.style.animationDuration = dur + "s";
      h.style.animationDelay = delay + "s";
      h.style.width = size + "px";
      h.style.height = size + "px";
      h.style.opacity = (0.10 + Math.random() * 0.22).toFixed(2);
      hearts.appendChild(h);
    }

    // --- Toast ---
    const toast = document.getElementById("toast");
    let toastTimer = null;
    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> toast.classList.remove("show"), 1000);
    }

    // --- Defaults (your chosen message) ---
    const DEFAULT_NAME = "Janeth Bamwenda";
    const DEFAULT_MSG =
`Janeth Bamwenda,

You walked into my life quietly, but you became the loudest and most beautiful beat in my heart. Loving you feels like finding home in a world full of noise. Your smile calms my storms, your voice softens my hardest days, and your presence alone makes everything brighter.

You are not just someone I love ‚Äî you are someone I cherish, respect, and admire deeply. With you, love feels real, safe, and beautifully endless. And if I had to choose again, in every lifetime, I would still choose you.`;

    // --- Personalization (localStorage) ---
    const nameInput = document.getElementById("nameInput");
    const msgInput  = document.getElementById("msgInput");
    const saveBtn   = document.getElementById("saveBtn");
    const resetBtn  = document.getElementById("resetBtn");
    const title     = document.getElementById("title");
    const dearLine  = document.getElementById("dearLine");
    const letterText= document.getElementById("letterText");

    function applyName(n){
      const clean = (n || "").trim();
      const finalName = clean || DEFAULT_NAME;
      title.textContent = `For ${finalName} ‚ù§Ô∏è`;
      dearLine.textContent = `Dear ${finalName},`;
      document.getElementById("secretText").textContent =
        `${finalName}, you are the kind of love that feels gentle, strong, and meant to last.`;
      return finalName;
    }

    function applyMessage(m){
      const message = (m && m.trim()) ? m.trim() : DEFAULT_MSG.trim();
      const base =
`${message}

Always yours,
‚ù§Ô∏è`;
      letterText.textContent = base;
    }

    function load(){
      const n = localStorage.getItem("love_name") || DEFAULT_NAME;
      const m = localStorage.getItem("love_msg")  || DEFAULT_MSG;
      nameInput.value = n;
      msgInput.value = m;
      applyName(n);
      applyMessage(m);
    }

    saveBtn.addEventListener("click", () => {
      localStorage.setItem("love_name", nameInput.value.trim() || DEFAULT_NAME);
      localStorage.setItem("love_msg", msgInput.value || DEFAULT_MSG);
      applyName(nameInput.value);
      applyMessage(msgInput.value);
      showToast("Saved üíæ");
    });

    resetBtn.addEventListener("click", () => {
      localStorage.removeItem("love_name");
      localStorage.removeItem("love_msg");
      nameInput.value = DEFAULT_NAME;
      msgInput.value = DEFAULT_MSG;
      applyName(DEFAULT_NAME);
      applyMessage(DEFAULT_MSG);
      showToast("Reset ‚ôªÔ∏è");
    });

    nameInput.addEventListener("input", () => {
      applyName(nameInput.value);
      applyMessage(msgInput.value);
    });
    msgInput.addEventListener("input", () => {
      applyName(nameInput.value);
      applyMessage(msgInput.value);
    });

    // --- Secret reveal + shuffle ---
    const revealBtn = document.getElementById("revealBtn");
    const revealBox = document.getElementById("revealBox");
    const shuffleBtn= document.getElementById("shuffleBtn");
    const reasonsEl = document.getElementById("reasons");

    revealBtn.addEventListener("click", () => {
      revealBox.classList.toggle("open");
      revealBtn.textContent = revealBox.classList.contains("open") ? "Hide secret üôà" : "Tap for a secret üíå";
    });

    shuffleBtn.addEventListener("click", () => {
      const items = Array.from(reasonsEl.children);
      for (let i = items.length - 1; i >= 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        reasonsEl.appendChild(items[j]);
        items.splice(j, 1);
      }
      showToast("Shuffled üîÄ");
    });

    // --- Copy message ---
    const copyBtn = document.getElementById("copyBtn");
    copyBtn.addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(msgInput.value || "");
        showToast("Copied üìã");
      } catch(e){
        alert("Copy failed. Select the text and copy manually.");
      }
    });

    // --- Love burst ---
    const confettiBtn = document.getElementById("confettiBtn");
    confettiBtn.addEventListener("click", () => {
      burstHearts();
      showToast("Sent ‚ú®");
    });

    function burstHearts(){
      const count = 26;
      for(let i=0;i<count;i++){
        const s = document.createElement("span");
        s.textContent = "üíñ";
        s.style.position = "fixed";
        s.style.left = (50 + (Math.random()*26-13)) + "vw";
        s.style.top  = (62 + (Math.random()*18-9)) + "vh";
        s.style.fontSize = (14 + Math.random()*18) + "px";
        s.style.transform = "translate(-50%, -50%)";
        s.style.zIndex = 9999;
        s.style.pointerEvents = "none";
        document.body.appendChild(s);

        const dx = (Math.random()*2-1) * 140;
        const dy = - (120 + Math.random()*160);
        const rot = (Math.random()*2-1) * 160;

        s.animate([
          { transform: `translate(-50%, -50%) translate(0px,0px) rotate(0deg)`, opacity: 1 },
          { transform: `translate(-50%, -50%) translate(${dx}px,${dy}px) rotate(${rot}deg)`, opacity: 0 }
        ], { duration: 900 + Math.random()*600, easing: "cubic-bezier(.2,.9,.2,1)" });

        setTimeout(()=> s.remove(), 1600);
      }
    }

    // --- Don't-touch buttons logic ---
    const arena = document.getElementById("arena");
    const noBtn = document.getElementById("noBtn");
    const yesBtn= document.getElementById("yesBtn");

    function moveRunner(){
      const rect = arena.getBoundingClientRect();
      const btn  = noBtn.getBoundingClientRect();
      const pad = 12;
      const maxX = rect.width - btn.width - pad;
      const maxY = rect.height - btn.height - pad;

      const x = pad + Math.random() * Math.max(1, maxX - pad);
      const y = pad + Math.random() * Math.max(1, maxY - pad);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
      noBtn.style.transform = "translate(0,0)";
    }

    noBtn.addEventListener("mouseenter", () => {
      moveRunner();
      showToast("Nope üòÑ");
    });

    arena.addEventListener("touchstart", (e) => {
      const t = e.touches && e.touches[0];
      if(!t) return;

      const r = noBtn.getBoundingClientRect();
      const dx = t.clientX - (r.left + r.width/2);
      const dy = t.clientY - (r.top  + r.height/2);
      const dist = Math.hypot(dx, dy);

      if(dist < 110){
        moveRunner();
        showToast("Not today üòÖ");
      }
    }, {passive:true});

    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      moveRunner();
      showToast("You‚Äôre too fast! üò≥");
    });

    yesBtn.addEventListener("click", () => {
      burstHearts();
      showToast("She said YES üòçüíç");
    });

    // --- Gallery Lightbox (iPhone-friendly) ---
    const photos = [
      { src: "photo1.jpg", label: "Memory 1 ‚ù§Ô∏è" },
      { src: "photo2.jpg", label: "Memory 2 ‚ù§Ô∏è" },
      { src: "photo3.jpg", label: "Memory 3 ‚ù§Ô∏è" },
      { src: "photo4.jpg", label: "Memory 4 ‚ù§Ô∏è" },
      { src: "photo5.jpg", label: "Memory 5 ‚ù§Ô∏è" },
      { src: "photo6.jpg", label: "Memory 6 ‚ù§Ô∏è" },
      { src: "photo7.jpg", label: "Memory 7 ‚ù§Ô∏è" },
      { src: "photo8.jpg", label: "Memory 8 ‚ù§Ô∏è" },
    ];

    const lightbox = document.getElementById("lightbox");
    const lbImg = document.getElementById("lbImg");
    const lbLabel = document.getElementById("lbLabel");
    const lbClose = document.getElementById("lbClose");
    const lbPrev = document.getElementById("lbPrev");
    const lbNext = document.getElementById("lbNext");
    let currentIndex = 0;

    function openLightbox(index){
      currentIndex = index;
      const item = photos[currentIndex];
      lbImg.src = item.src;
      lbLabel.textContent = item.label;
      lightbox.classList.add("open");
      lightbox.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }

    function closeLightbox(){
      lightbox.classList.remove("open");
      lightbox.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    }

    function showIndex(nextIndex){
      currentIndex = (nextIndex + photos.length) % photos.length;
      const item = photos[currentIndex];
      lbImg.src = item.src;
      lbLabel.textContent = item.label;
    }

    document.querySelectorAll(".photoBtn").forEach(btn => {
      btn.addEventListener("click", () => {
        const i = Number(btn.dataset.index || 0);
        openLightbox(i);
      });
    });

    lbClose.addEventListener("click", closeLightbox);
    lbPrev.addEventListener("click", () => showIndex(currentIndex - 1));
    lbNext.addEventListener("click", () => showIndex(currentIndex + 1));

    // Tap outside image closes
    lightbox.addEventListener("click", (e) => {
      if(e.target === lightbox) closeLightbox();
    });

    // Keyboard support (nice on desktop)
    window.addEventListener("keydown", (e) => {
      if(!lightbox.classList.contains("open")) return;
      if(e.key === "Escape") closeLightbox();
      if(e.key === "ArrowLeft") showIndex(currentIndex - 1);
      if(e.key === "ArrowRight") showIndex(currentIndex + 1);
    });

    // Swipe support (mobile)
    let startX = 0;
    lightbox.addEventListener("touchstart", (e) => {
      startX = e.touches[0].clientX;
    }, {passive:true});
    lightbox.addEventListener("touchend", (e) => {
      const endX = e.changedTouches[0].clientX;
      const dx = endX - startX;
      if(Math.abs(dx) < 45) return;
      if(dx > 0) showIndex(currentIndex - 1);
      else showIndex(currentIndex + 1);
    }, {passive:true});

    // Start page
    load();
    setTimeout(moveRunner, 200);
  </script>
</body>
</html>
